{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bncrentcar\\\\frontend\\\\src\\\\components\\\\PhotoUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { photosAPI } from '../services/api';\nimport toast from 'react-hot-toast';\nimport { Camera, Upload, X, Image as ImageIcon } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhotoUpload = ({\n  rentalId,\n  photoType,\n  onPhotosChange\n}) => {\n  _s();\n  const [photos, setPhotos] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef(null);\n  const cameraInputRef = useRef(null);\n  const handleFileSelect = async files => {\n    if (!files || files.length === 0) return;\n    setUploading(true);\n    const uploadedPhotos = [];\n    try {\n      for (const file of Array.from(files)) {\n        // Validazione\n        if (!file.type.startsWith('image/')) {\n          toast.error(`${file.name} non è un'immagine valida`);\n          continue;\n        }\n        if (file.size > 5 * 1024 * 1024) {\n          toast.error(`${file.name} è troppo grande (max 5MB)`);\n          continue;\n        }\n\n        // Crea FormData\n        const formData = new FormData();\n        formData.append('photo', file);\n        formData.append('rental_id', rentalId);\n        formData.append('photo_type', photoType);\n\n        // Upload\n        const response = await photosAPI.upload(formData);\n        uploadedPhotos.push(response.data.data);\n\n        // Aggiungi preview locale\n        const reader = new FileReader();\n        reader.onload = e => {\n          setPhotos(prev => [...prev, {\n            id: response.data.data.photo_id,\n            url: e.target.result,\n            filename: response.data.data.filename\n          }]);\n        };\n        reader.readAsDataURL(file);\n      }\n      if (uploadedPhotos.length > 0) {\n        toast.success(`${uploadedPhotos.length} foto caricate con successo!`);\n        if (onPhotosChange) {\n          onPhotosChange(uploadedPhotos);\n        }\n      }\n    } catch (error) {\n      console.error('Errore upload foto:', error);\n      toast.error('Errore durante il caricamento delle foto');\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleDrag = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      handleFileSelect(e.dataTransfer.files);\n    }\n  };\n  const handleDeletePhoto = async photoId => {\n    try {\n      await photosAPI.delete(photoId);\n      setPhotos(prev => prev.filter(p => p.id !== photoId));\n      toast.success('Foto eliminata con successo');\n      if (onPhotosChange) {\n        onPhotosChange(photos.filter(p => p.id !== photoId));\n      }\n    } catch (error) {\n      console.error('Errore eliminazione foto:', error);\n      toast.error('Errore durante l\\'eliminazione della foto');\n    }\n  };\n  const openFileDialog = () => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const openCamera = () => {\n    var _cameraInputRef$curre;\n    (_cameraInputRef$curre = cameraInputRef.current) === null || _cameraInputRef$curre === void 0 ? void 0 : _cameraInputRef$curre.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `photo-upload-area ${dragActive ? 'dragging' : ''}`,\n      onDragEnter: handleDrag,\n      onDragLeave: handleDrag,\n      onDragOver: handleDrag,\n      onDrop: handleDrop,\n      onClick: openFileDialog,\n      children: [/*#__PURE__*/_jsxDEV(ImageIcon, {\n        size: 48,\n        color: \"#6c757d\",\n        style: {\n          marginBottom: '16px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '16px',\n          fontWeight: '500',\n          marginBottom: '8px'\n        },\n        children: \"Trascina le foto qui o clicca per selezionare\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '14px',\n          color: '#6c757d',\n          marginBottom: '16px'\n        },\n        children: \"Formati supportati: JPG, PNG, GIF, WEBP (max 5MB)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '12px',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: e => {\n            e.stopPropagation();\n            openFileDialog();\n          },\n          className: \"btn btn-outline-primary btn-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), \"Seleziona File\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: e => {\n            e.stopPropagation();\n            openCamera();\n          },\n          className: \"btn btn-outline-secondary btn-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Camera, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), \"Usa Fotocamera\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\",\n          style: {\n            width: '30px',\n            height: '30px',\n            margin: '0 auto'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '14px',\n            color: '#6c757d',\n            marginTop: '8px'\n          },\n          children: \"Caricamento in corso...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      accept: \"image/*\",\n      multiple: true,\n      style: {\n        display: 'none'\n      },\n      onChange: e => handleFileSelect(e.target.files)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: cameraInputRef,\n      type: \"file\",\n      accept: \"image/*\",\n      capture: \"environment\",\n      multiple: true,\n      style: {\n        display: 'none'\n      },\n      onChange: e => handleFileSelect(e.target.files)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-grid\",\n      children: photos.map(photo => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"photo-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: photo.url,\n          alt: photo.filename\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"photo-item-remove\",\n          onClick: () => handleDeletePhoto(photo.id),\n          title: \"Elimina foto\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }, this)]\n      }, photo.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this), photos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '16px',\n        padding: '12px',\n        background: '#e8f5e9',\n        borderRadius: '4px',\n        fontSize: '14px',\n        color: '#1a4d2e',\n        textAlign: 'center'\n      },\n      children: [\"\\u2713 \", photos.length, \" foto caricate\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n_s(PhotoUpload, \"3l05yJF6zaYTre8gznesIwMal1g=\");\n_c = PhotoUpload;\nexport default PhotoUpload;\nvar _c;\n$RefreshReg$(_c, \"PhotoUpload\");","map":{"version":3,"names":["React","useState","useRef","photosAPI","toast","Camera","Upload","X","Image","ImageIcon","jsxDEV","_jsxDEV","PhotoUpload","rentalId","photoType","onPhotosChange","_s","photos","setPhotos","uploading","setUploading","dragActive","setDragActive","fileInputRef","cameraInputRef","handleFileSelect","files","length","uploadedPhotos","file","Array","from","type","startsWith","error","name","size","formData","FormData","append","response","upload","push","data","reader","FileReader","onload","e","prev","id","photo_id","url","target","result","filename","readAsDataURL","success","console","handleDrag","preventDefault","stopPropagation","handleDrop","dataTransfer","handleDeletePhoto","photoId","delete","filter","p","openFileDialog","_fileInputRef$current","current","click","openCamera","_cameraInputRef$curre","children","className","onDragEnter","onDragLeave","onDragOver","onDrop","onClick","color","style","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","fontWeight","display","gap","justifyContent","marginTop","width","height","margin","ref","accept","multiple","onChange","capture","map","photo","src","alt","title","padding","background","borderRadius","textAlign","_c","$RefreshReg$"],"sources":["D:/Bncrentcar/frontend/src/components/PhotoUpload.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { photosAPI } from '../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport { Camera, Upload, X, Image as ImageIcon } from 'lucide-react';\r\n\r\nconst PhotoUpload = ({ rentalId, photoType, onPhotosChange }) => {\r\n  const [photos, setPhotos] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [dragActive, setDragActive] = useState(false);\r\n  const fileInputRef = useRef(null);\r\n  const cameraInputRef = useRef(null);\r\n\r\n  const handleFileSelect = async (files) => {\r\n    if (!files || files.length === 0) return;\r\n\r\n    setUploading(true);\r\n    const uploadedPhotos = [];\r\n\r\n    try {\r\n      for (const file of Array.from(files)) {\r\n        // Validazione\r\n        if (!file.type.startsWith('image/')) {\r\n          toast.error(`${file.name} non è un'immagine valida`);\r\n          continue;\r\n        }\r\n\r\n        if (file.size > 5 * 1024 * 1024) {\r\n          toast.error(`${file.name} è troppo grande (max 5MB)`);\r\n          continue;\r\n        }\r\n\r\n        // Crea FormData\r\n        const formData = new FormData();\r\n        formData.append('photo', file);\r\n        formData.append('rental_id', rentalId);\r\n        formData.append('photo_type', photoType);\r\n\r\n        // Upload\r\n        const response = await photosAPI.upload(formData);\r\n        uploadedPhotos.push(response.data.data);\r\n        \r\n        // Aggiungi preview locale\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          setPhotos(prev => [...prev, {\r\n            id: response.data.data.photo_id,\r\n            url: e.target.result,\r\n            filename: response.data.data.filename,\r\n          }]);\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n\r\n      if (uploadedPhotos.length > 0) {\r\n        toast.success(`${uploadedPhotos.length} foto caricate con successo!`);\r\n        if (onPhotosChange) {\r\n          onPhotosChange(uploadedPhotos);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Errore upload foto:', error);\r\n      toast.error('Errore durante il caricamento delle foto');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleDrag = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.type === 'dragenter' || e.type === 'dragover') {\r\n      setDragActive(true);\r\n    } else if (e.type === 'dragleave') {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragActive(false);\r\n    \r\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n      handleFileSelect(e.dataTransfer.files);\r\n    }\r\n  };\r\n\r\n  const handleDeletePhoto = async (photoId) => {\r\n    try {\r\n      await photosAPI.delete(photoId);\r\n      setPhotos(prev => prev.filter(p => p.id !== photoId));\r\n      toast.success('Foto eliminata con successo');\r\n      \r\n      if (onPhotosChange) {\r\n        onPhotosChange(photos.filter(p => p.id !== photoId));\r\n      }\r\n    } catch (error) {\r\n      console.error('Errore eliminazione foto:', error);\r\n      toast.error('Errore durante l\\'eliminazione della foto');\r\n    }\r\n  };\r\n\r\n  const openFileDialog = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  const openCamera = () => {\r\n    cameraInputRef.current?.click();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Upload Area */}\r\n      <div\r\n        className={`photo-upload-area ${dragActive ? 'dragging' : ''}`}\r\n        onDragEnter={handleDrag}\r\n        onDragLeave={handleDrag}\r\n        onDragOver={handleDrag}\r\n        onDrop={handleDrop}\r\n        onClick={openFileDialog}\r\n      >\r\n        <ImageIcon size={48} color=\"#6c757d\" style={{ marginBottom: '16px' }} />\r\n        <p style={{ fontSize: '16px', fontWeight: '500', marginBottom: '8px' }}>\r\n          Trascina le foto qui o clicca per selezionare\r\n        </p>\r\n        <p style={{ fontSize: '14px', color: '#6c757d', marginBottom: '16px' }}>\r\n          Formati supportati: JPG, PNG, GIF, WEBP (max 5MB)\r\n        </p>\r\n        \r\n        <div style={{ display: 'flex', gap: '12px', justifyContent: 'center' }}>\r\n          <button\r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              openFileDialog();\r\n            }}\r\n            className=\"btn btn-outline-primary btn-sm\"\r\n          >\r\n            <Upload size={16} />\r\n            Seleziona File\r\n          </button>\r\n          \r\n          <button\r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              openCamera();\r\n            }}\r\n            className=\"btn btn-outline-secondary btn-sm\"\r\n          >\r\n            <Camera size={16} />\r\n            Usa Fotocamera\r\n          </button>\r\n        </div>\r\n\r\n        {uploading && (\r\n          <div style={{ marginTop: '16px' }}>\r\n            <div className=\"spinner\" style={{ width: '30px', height: '30px', margin: '0 auto' }}></div>\r\n            <p style={{ fontSize: '14px', color: '#6c757d', marginTop: '8px' }}>\r\n              Caricamento in corso...\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Hidden File Inputs */}\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        multiple\r\n        style={{ display: 'none' }}\r\n        onChange={(e) => handleFileSelect(e.target.files)}\r\n      />\r\n      \r\n      {/* Camera Input - attiva la fotocamera su mobile */}\r\n      <input\r\n        ref={cameraInputRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        capture=\"environment\"\r\n        multiple\r\n        style={{ display: 'none' }}\r\n        onChange={(e) => handleFileSelect(e.target.files)}\r\n      />\r\n\r\n      {/* Photo Grid */}\r\n      {photos.length > 0 && (\r\n        <div className=\"photo-grid\">\r\n          {photos.map((photo) => (\r\n            <div key={photo.id} className=\"photo-item\">\r\n              <img src={photo.url} alt={photo.filename} />\r\n              <button\r\n                type=\"button\"\r\n                className=\"photo-item-remove\"\r\n                onClick={() => handleDeletePhoto(photo.id)}\r\n                title=\"Elimina foto\"\r\n              >\r\n                <X size={16} />\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {photos.length > 0 && (\r\n        <div style={{\r\n          marginTop: '16px',\r\n          padding: '12px',\r\n          background: '#e8f5e9',\r\n          borderRadius: '4px',\r\n          fontSize: '14px',\r\n          color: '#1a4d2e',\r\n          textAlign: 'center',\r\n        }}>\r\n          ✓ {photos.length} foto caricate\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoUpload;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}