{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{vehiclesAPI}from'../services/api';import toast from'react-hot-toast';import{Car,Plus}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const VehiclesList=()=>{const[vehicles,setVehicles]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadVehicles();},[]);const loadVehicles=async()=>{try{setLoading(true);const response=await vehiclesAPI.getAll({limit:1000});setVehicles(response.data.data);}catch(error){console.error('Errore caricamento veicoli:',error);toast.error('Errore nel caricamento dei veicoli');}finally{setLoading(false);}};const getStatusBadge=status=>{const statusConfig={available:{label:'Disponibile',className:'badge-success'},rented:{label:'Noleggiato',className:'badge-warning'},maintenance:{label:'Manutenzione',className:'badge-danger'}};const config=statusConfig[status]||statusConfig.available;return/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(config.className),children:config.label});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Gestione Veicoli\"}),/*#__PURE__*/_jsxs(Link,{to:\"/vehicles/new\",className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(Plus,{size:18}),\"Nuovo Veicolo\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content-area\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"card-title\",children:[\"Flotta Veicoli (\",vehicles.length,\")\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",style:{padding:0},children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}):vehicles.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'40px',textAlign:'center',color:'#6c757d'},children:[/*#__PURE__*/_jsx(Car,{size:48,style:{opacity:0.3,marginBottom:'16px'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Nessun veicolo in flotta\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Targa\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Veicolo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Categoria\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Anno\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Carburante\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Km Attuali\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stato\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tariffa/Giorno\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:vehicles.map(vehicle=>{var _vehicle$current_km;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{fontWeight:'600'},children:vehicle.license_plate}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[vehicle.brand,\" \",vehicle.model]}),vehicle.color&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#6c757d'},children:vehicle.color})]})]}),/*#__PURE__*/_jsx(\"td\",{children:vehicle.category_name||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:vehicle.year||'-'}),/*#__PURE__*/_jsx(\"td\",{children:vehicle.fuel_type||'-'}),/*#__PURE__*/_jsx(\"td\",{children:((_vehicle$current_km=vehicle.current_km)===null||_vehicle$current_km===void 0?void 0:_vehicle$current_km.toLocaleString())||'0'}),/*#__PURE__*/_jsx(\"td\",{children:getStatusBadge(vehicle.status)}),/*#__PURE__*/_jsxs(\"td\",{style:{fontWeight:'600',color:'#1a4d2e'},children:[\"\\u20AC\",parseFloat(vehicle.daily_rate||0).toFixed(2)]})]},vehicle.id);})})]})})})]})})]});};export default VehiclesList;","map":{"version":3,"names":["React","useState","useEffect","Link","vehiclesAPI","toast","Car","Plus","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VehiclesList","vehicles","setVehicles","loading","setLoading","loadVehicles","response","getAll","limit","data","error","console","getStatusBadge","status","statusConfig","available","label","className","rented","maintenance","config","concat","children","to","size","length","style","padding","textAlign","color","opacity","marginBottom","map","vehicle","_vehicle$current_km","fontWeight","license_plate","brand","model","category_name","year","fuel_type","current_km","toLocaleString","parseFloat","daily_rate","toFixed","id"],"sources":["D:/Bncrentcar/frontend/src/components/VehiclesList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { vehiclesAPI } from '../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport { Car, Plus } from 'lucide-react';\r\n\r\nconst VehiclesList = () => {\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadVehicles();\r\n  }, []);\r\n\r\n  const loadVehicles = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await vehiclesAPI.getAll({ limit: 1000 });\r\n      setVehicles(response.data.data);\r\n    } catch (error) {\r\n      console.error('Errore caricamento veicoli:', error);\r\n      toast.error('Errore nel caricamento dei veicoli');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      available: { label: 'Disponibile', className: 'badge-success' },\r\n      rented: { label: 'Noleggiato', className: 'badge-warning' },\r\n      maintenance: { label: 'Manutenzione', className: 'badge-danger' },\r\n    };\r\n    const config = statusConfig[status] || statusConfig.available;\r\n    return <span className={`badge ${config.className}`}>{config.label}</span>;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"top-bar\">\r\n        <h1>Gestione Veicoli</h1>\r\n        <Link to=\"/vehicles/new\" className=\"btn btn-primary\">\r\n          <Plus size={18} />\r\n          Nuovo Veicolo\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"content-area\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <h2 className=\"card-title\">Flotta Veicoli ({vehicles.length})</h2>\r\n          </div>\r\n          <div className=\"card-body\" style={{ padding: 0 }}>\r\n            {loading ? (\r\n              <div className=\"spinner\"></div>\r\n            ) : vehicles.length === 0 ? (\r\n              <div style={{ padding: '40px', textAlign: 'center', color: '#6c757d' }}>\r\n                <Car size={48} style={{ opacity: 0.3, marginBottom: '16px' }} />\r\n                <p>Nessun veicolo in flotta</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"table-container\">\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Targa</th>\r\n                      <th>Veicolo</th>\r\n                      <th>Categoria</th>\r\n                      <th>Anno</th>\r\n                      <th>Carburante</th>\r\n                      <th>Km Attuali</th>\r\n                      <th>Stato</th>\r\n                      <th>Tariffa/Giorno</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {vehicles.map((vehicle) => (\r\n                      <tr key={vehicle.id}>\r\n                        <td style={{ fontWeight: '600' }}>{vehicle.license_plate}</td>\r\n                        <td>\r\n                          <strong>{vehicle.brand} {vehicle.model}</strong>\r\n                          {vehicle.color && (\r\n                            <>\r\n                              <br />\r\n                              <small style={{ color: '#6c757d' }}>{vehicle.color}</small>\r\n                            </>\r\n                          )}\r\n                        </td>\r\n                        <td>{vehicle.category_name || 'N/A'}</td>\r\n                        <td>{vehicle.year || '-'}</td>\r\n                        <td>{vehicle.fuel_type || '-'}</td>\r\n                        <td>{vehicle.current_km?.toLocaleString() || '0'}</td>\r\n                        <td>{getStatusBadge(vehicle.status)}</td>\r\n                        <td style={{ fontWeight: '600', color: '#1a4d2e' }}>\r\n                          â‚¬{parseFloat(vehicle.daily_rate || 0).toFixed(2)}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VehiclesList;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}