{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bncrentcar\\\\frontend\\\\src\\\\components\\\\NewRental.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { rentalsAPI, customersAPI, vehiclesAPI } from '../services/api';\nimport toast from 'react-hot-toast';\nimport PhotoUpload from './PhotoUpload';\nimport { ArrowLeft, ArrowRight, Save, User, Car, Calendar, DollarSign, CreditCard, Shield, Camera, CheckCircle, UserPlus } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NewRental = () => {\n  _s();\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [customers, setCustomers] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [categories, setCategories] = useState([]);\n\n  // ✅ STATO COMPLETO CON TUTTI I CAMPI DELLA TABELLA RENTALS\n  const [formData, setFormData] = useState({\n    // Step 1: Cliente\n    customer_id: '',\n    // Step 2: Veicolo\n    vehicle_id: '',\n    // Step 3: Date e Dettagli Noleggio\n    pickup_date: '',\n    expected_return_date: '',\n    pickup_location: 'BNC Energy Rent Car',\n    pickup_fuel_level: '100',\n    pickup_km: '',\n    pickup_damages: '',\n    pickup_notes: '',\n    // Step 4: Conducente Aggiuntivo (Opzionale)\n    additional_driver_name: '',\n    additional_driver_birth_date: '',\n    additional_driver_birth_place: '',\n    additional_driver_license: '',\n    additional_driver_license_issued_by: '',\n    additional_driver_license_issue_date: '',\n    additional_driver_license_expiry: '',\n    // Step 5: Tariffe e Costi\n    daily_rate: '',\n    total_days: 1,\n    km_included: 'Illimitati',\n    km_extra_cost: '0',\n    delivery_cost: '0',\n    fuel_charge: '0',\n    after_hours_charge: '0',\n    extras_charge: '0',\n    extra_km_charge: '0',\n    franchise_charge: '0',\n    discount: '0',\n    subtotal: 0,\n    total_amount: 0,\n    // Step 6: Pagamento\n    amount_paid: '0',\n    amount_due: 0,\n    payment_method: 'Contanti',\n    deposit_amount: '0',\n    deposit_method: 'Contanti',\n    // Step 7: Carta di Credito (Se necessaria)\n    cc_holder_name: '',\n    cc_type: '',\n    cc_number_masked: '',\n    cc_expiry: '',\n    // Step 8: Franchigie Assicurative\n    franchise_theft: '0',\n    franchise_damage: '0',\n    franchise_rca: '0',\n    // Step 9: Consensi e Firma\n    contract_signed: false,\n    privacy_consent: false,\n    marketing_consent: false,\n    // Step 10: Foto\n    rental_id: null\n  });\n  const [uploadedPhotos, setUploadedPhotos] = useState([]);\n  useEffect(() => {\n    loadInitialData();\n  }, []);\n\n  // ✅ Calcolo automatico totali\n  useEffect(() => {\n    const dailyRate = parseFloat(formData.daily_rate) || 0;\n    const start = new Date(formData.pickup_date);\n    const end = new Date(formData.expected_return_date);\n    let diffDays = 1;\n    if (start.getTime() && end.getTime() && end > start) {\n      const diffTime = Math.abs(end - start);\n      diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    }\n\n    // Calcolo subtotale (solo tariffa giornaliera)\n    const subtotal = dailyRate * diffDays;\n\n    // Calcolo costi aggiuntivi\n    const deliveryCost = parseFloat(formData.delivery_cost) || 0;\n    const fuelCharge = parseFloat(formData.fuel_charge) || 0;\n    const afterHoursCharge = parseFloat(formData.after_hours_charge) || 0;\n    const extrasCharge = parseFloat(formData.extras_charge) || 0;\n    const extraKmCharge = parseFloat(formData.extra_km_charge) || 0;\n    const franchiseCharge = parseFloat(formData.franchise_charge) || 0;\n    const discount = parseFloat(formData.discount) || 0;\n\n    // Totale comprensivo di tutti i costi\n    const totalAmount = subtotal + deliveryCost + fuelCharge + afterHoursCharge + extrasCharge + extraKmCharge + franchiseCharge - discount;\n\n    // Calcolo importo dovuto\n    const amountPaid = parseFloat(formData.amount_paid) || 0;\n    const amountDue = totalAmount - amountPaid;\n    setFormData(prev => ({\n      ...prev,\n      total_days: diffDays,\n      subtotal: subtotal,\n      total_amount: totalAmount,\n      amount_due: amountDue\n    }));\n  }, [formData.pickup_date, formData.expected_return_date, formData.daily_rate, formData.delivery_cost, formData.fuel_charge, formData.after_hours_charge, formData.extras_charge, formData.extra_km_charge, formData.franchise_charge, formData.discount, formData.amount_paid]);\n\n  // ✅ Caricamento dati iniziali\n  useEffect(() => {\n    if (formData.vehicle_id) {\n      const selectedVehicle = vehicles.find(v => v.id === parseInt(formData.vehicle_id));\n      if (selectedVehicle) {\n        setFormData(prev => ({\n          ...prev,\n          daily_rate: selectedVehicle.daily_rate,\n          pickup_km: selectedVehicle.current_km,\n          franchise_theft: selectedVehicle.franchise_theft || '0',\n          franchise_damage: selectedVehicle.franchise_damage || '0',\n          franchise_rca: selectedVehicle.franchise_rca || '0'\n        }));\n      }\n    }\n  }, [formData.vehicle_id, vehicles]);\n  const loadInitialData = async () => {\n    try {\n      const [customersRes, vehiclesRes] = await Promise.all([customersAPI.getAll({\n        limit: 1000\n      }), vehiclesAPI.getAll({\n        limit: 1000\n      })]);\n      setCustomers(customersRes.data.data.customers || []);\n      setVehicles(vehiclesRes.data.data || []);\n    } catch (error) {\n      console.error('Errore caricamento dati:', error);\n      toast.error('Errore nel caricamento dei dati');\n      setCustomers([]);\n      setVehicles([]);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n  const validateStep = step => {\n    switch (step) {\n      case 1:\n        if (!formData.customer_id) {\n          toast.error('Seleziona un cliente');\n          return false;\n        }\n        break;\n      case 2:\n        if (!formData.vehicle_id) {\n          toast.error('Seleziona un veicolo');\n          return false;\n        }\n        break;\n      case 3:\n        if (!formData.pickup_date || !formData.expected_return_date || !formData.pickup_km) {\n          toast.error('Compila tutti i campi obbligatori');\n          return false;\n        }\n        if (formData.total_days <= 0) {\n          toast.error('Le date di noleggio non sono valide');\n          return false;\n        }\n        break;\n      case 5:\n        if (parseFloat(formData.daily_rate) <= 0) {\n          toast.error('La tariffa giornaliera deve essere maggiore di zero');\n          return false;\n        }\n        break;\n      case 9:\n        if (!formData.contract_signed || !formData.privacy_consent) {\n          toast.error('Devi accettare il contratto e l\\'informativa sulla privacy');\n          return false;\n        }\n        break;\n    }\n    return true;\n  };\n  const handleNext = () => {\n    if (validateStep(currentStep)) {\n      if (currentStep === 9) {\n        handleSubmit();\n      } else {\n        setCurrentStep(currentStep + 1);\n      }\n    }\n  };\n  const handlePrevious = () => {\n    setCurrentStep(currentStep - 1);\n  };\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n\n      // ✅ Preparazione dati completi per l'API\n      const rentalData = {\n        customer_id: parseInt(formData.customer_id),\n        vehicle_id: parseInt(formData.vehicle_id),\n        pickup_date: formData.pickup_date,\n        expected_return_date: formData.expected_return_date,\n        pickup_location: formData.pickup_location,\n        pickup_fuel_level: parseFloat(formData.pickup_fuel_level),\n        pickup_km: parseInt(formData.pickup_km),\n        pickup_damages: formData.pickup_damages,\n        pickup_notes: formData.pickup_notes,\n        // Conducente aggiuntivo\n        additional_driver_name: formData.additional_driver_name || null,\n        additional_driver_birth_date: formData.additional_driver_birth_date || null,\n        additional_driver_birth_place: formData.additional_driver_birth_place || null,\n        additional_driver_license: formData.additional_driver_license || null,\n        additional_driver_license_issued_by: formData.additional_driver_license_issued_by || null,\n        additional_driver_license_issue_date: formData.additional_driver_license_issue_date || null,\n        additional_driver_license_expiry: formData.additional_driver_license_expiry || null,\n        // Tariffe\n        daily_rate: parseFloat(formData.daily_rate),\n        total_days: parseInt(formData.total_days),\n        km_included: formData.km_included,\n        km_extra_cost: parseFloat(formData.km_extra_cost),\n        delivery_cost: parseFloat(formData.delivery_cost),\n        fuel_charge: parseFloat(formData.fuel_charge),\n        after_hours_charge: parseFloat(formData.after_hours_charge),\n        extras_charge: parseFloat(formData.extras_charge),\n        extra_km_charge: parseFloat(formData.extra_km_charge),\n        franchise_charge: parseFloat(formData.franchise_charge),\n        discount: parseFloat(formData.discount),\n        subtotal: parseFloat(formData.subtotal),\n        total_amount: parseFloat(formData.total_amount),\n        // Pagamento\n        amount_paid: parseFloat(formData.amount_paid),\n        amount_due: parseFloat(formData.amount_due),\n        payment_method: formData.payment_method,\n        deposit_amount: parseFloat(formData.deposit_amount),\n        deposit_method: formData.deposit_method,\n        // Carta di credito\n        cc_holder_name: formData.cc_holder_name || null,\n        cc_type: formData.cc_type || null,\n        cc_number_masked: formData.cc_number_masked || null,\n        cc_expiry: formData.cc_expiry || null,\n        // Franchigie\n        franchise_theft: parseFloat(formData.franchise_theft),\n        franchise_damage: parseFloat(formData.franchise_damage),\n        franchise_rca: parseFloat(formData.franchise_rca),\n        // Consensi\n        contract_signed: formData.contract_signed,\n        privacy_consent: formData.privacy_consent,\n        marketing_consent: formData.marketing_consent\n      };\n      const response = await rentalsAPI.create(rentalData);\n      setFormData(prev => ({\n        ...prev,\n        rental_id: response.data.data.id\n      }));\n      setCurrentStep(10); // Vai allo step foto\n\n      toast.success('Noleggio creato con successo!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Errore creazione noleggio:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Errore nella creazione del noleggio');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFinish = () => {\n    toast.success('Noleggio completato con successo!');\n    navigate(`/rentals/${formData.rental_id}`);\n  };\n\n  // ✅ DEFINIZIONE STEP\n  const steps = [{\n    number: 1,\n    title: 'Cliente',\n    icon: User\n  }, {\n    number: 2,\n    title: 'Veicolo',\n    icon: Car\n  }, {\n    number: 3,\n    title: 'Dettagli',\n    icon: Calendar\n  }, {\n    number: 4,\n    title: 'Conducente Agg.',\n    icon: UserPlus\n  }, {\n    number: 5,\n    title: 'Tariffe',\n    icon: DollarSign\n  }, {\n    number: 6,\n    title: 'Pagamento',\n    icon: CreditCard\n  }, {\n    number: 7,\n    title: 'Carta Credito',\n    icon: CreditCard\n  }, {\n    number: 8,\n    title: 'Franchigie',\n    icon: Shield\n  }, {\n    number: 9,\n    title: 'Consensi',\n    icon: CheckCircle\n  }, {\n    number: 10,\n    title: 'Foto',\n    icon: Camera\n  }];\n\n  // ✅ RENDER STEP INDICATOR (invariato)\n  const renderStepIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      marginBottom: '32px',\n      position: 'relative',\n      overflowX: 'auto',\n      padding: '10px 0'\n    },\n    children: steps.map((step, index) => {\n      const Icon = step.icon;\n      const isActive = currentStep === step.number;\n      const isCompleted = currentStep > step.number;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          textAlign: 'center',\n          position: 'relative',\n          minWidth: '80px'\n        },\n        children: [index > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: '20px',\n            left: '-50%',\n            right: '50%',\n            height: '2px',\n            background: isCompleted ? '#1a4d2e' : '#dee2e6'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '40px',\n            height: '40px',\n            borderRadius: '50%',\n            background: isActive ? '#1a4d2e' : isCompleted ? '#4a7c59' : '#dee2e6',\n            color: isActive || isCompleted ? 'white' : '#6c757d',\n            display: 'inline-flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            marginBottom: '8px',\n            position: 'relative',\n            zIndex: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '11px',\n            fontWeight: isActive ? '600' : '400',\n            color: isActive ? '#1a4d2e' : '#6c757d'\n          },\n          children: step.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)]\n      }, step.number, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 353,\n    columnNumber: 5\n  }, this);\n\n  // ✅ STEP 1: CLIENTE (invariato)\n  const renderStep1 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: '24px'\n      },\n      children: \"Seleziona Cliente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label required\",\n        children: \"Cliente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"customer_id\",\n        className: \"form-control\",\n        value: formData.customer_id,\n        onChange: handleChange,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Seleziona Cliente --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), customers && customers.map(customer => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: customer.id,\n          children: [customer.full_name, \" - \", customer.fiscal_code]\n        }, customer.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this), formData.customer_id && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        padding: '16px',\n        background: '#f8f9fa',\n        borderRadius: '4px'\n      },\n      children: (() => {\n        const customer = customers.find(c => c.id === parseInt(formData.customer_id));\n        return customer ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dettagli Cliente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px',\n              fontSize: '14px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\uD83D\\uDCDE \", customer.phone]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\uD83D\\uDCE7 \", customer.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\uD83D\\uDCCD \", customer.address, \", \", customer.city]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\uD83E\\uDEAA Patente: \", customer.license_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 15\n        }, this) : null;\n      })()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 408,\n    columnNumber: 5\n  }, this);\n\n  // ✅ STEP 2: VEICOLO (invariato)\n  const renderStep2 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: '24px'\n      },\n      children: \"Seleziona Veicolo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label required\",\n        children: \"Veicolo Disponibile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"vehicle_id\",\n        className: \"form-control\",\n        value: formData.vehicle_id,\n        onChange: handleChange,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Seleziona Veicolo --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this), vehicles && vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: vehicle.id,\n          children: [vehicle.brand, \" \", vehicle.model, \" - \", vehicle.license_plate, vehicle.category_name && ` (${vehicle.category_name})`]\n        }, vehicle.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 7\n    }, this), formData.vehicle_id && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        padding: '16px',\n        background: '#f8f9fa',\n        borderRadius: '4px'\n      },\n      children: (() => {\n        const vehicle = vehicles.find(v => v.id === parseInt(formData.vehicle_id));\n        return vehicle ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dettagli Veicolo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px',\n              fontSize: '14px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\uD83D\\uDE97 \", vehicle.brand, \" \", vehicle.model, \" (\", vehicle.year, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\uD83C\\uDFF7\\uFE0F Targa: \", vehicle.license_plate]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\uD83C\\uDFA8 Colore: \", vehicle.color]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\u26FD Carburante: \", vehicle.fuel_type]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\u2699\\uFE0F Cambio: \", vehicle.transmission]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\uD83D\\uDCCA Km attuali: \", vehicle.current_km]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 19\n            }, this), vehicle.daily_rate && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '8px',\n                fontWeight: '600',\n                color: '#1a4d2e'\n              },\n              children: [\"\\uD83D\\uDCB0 Tariffa giornaliera: \\u20AC\", parseFloat(vehicle.daily_rate).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 15\n        }, this) : null;\n      })()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 457,\n    columnNumber: 5\n  }, this);\n\n  // ✅ STEP 3: DETTAGLI NOLEGGIO (invariato)\n  const renderStep3 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: '24px'\n      },\n      children: \"Dettagli Ritiro e Consegna\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label required\",\n          children: \"Data e Ora Ritiro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          name: \"pickup_date\",\n          className: \"form-control\",\n          value: formData.pickup_date,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label required\",\n          children: \"Data e Ora Rientro Previsto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          name: \"expected_return_date\",\n          className: \"form-control\",\n          value: formData.expected_return_date,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Luogo di Ritiro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"pickup_location\",\n        className: \"form-control\",\n        value: formData.pickup_location,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label required\",\n          children: \"Livello Carburante (%)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"pickup_fuel_level\",\n          className: \"form-control\",\n          value: formData.pickup_fuel_level,\n          onChange: handleChange,\n          min: \"0\",\n          max: \"100\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label required\",\n          children: \"Km in Uscita\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"pickup_km\",\n          className: \"form-control\",\n          value: formData.pickup_km,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Danni Esistenti\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"pickup_damages\",\n        className: \"form-control\",\n        value: formData.pickup_damages,\n        onChange: handleChange,\n        rows: \"3\",\n        placeholder: \"Descrivi eventuali danni o graffi presenti sul veicolo...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Note Aggiuntive Noleggio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"pickup_notes\",\n        className: \"form-control\",\n        value: formData.pickup_notes,\n        onChange: handleChange,\n        rows: \"3\",\n        placeholder: \"Note generiche per il noleggio...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 7\n    }, this), formData.total_days > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        padding: '16px',\n        background: '#e8f5e9',\n        borderRadius: '4px',\n        fontSize: '14px',\n        fontWeight: '600',\n        color: '#1a4d2e'\n      },\n      children: [\"\\uD83D\\uDCC5 Durata noleggio: \", formData.total_days, \" giorn\", formData.total_days === 1 ? 'o' : 'i']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 514,\n    columnNumber: 5\n  }, this);\n\n  // ✅ STEP 4: CONDUCENTE AGGIUNTIVO (NUOVO)\n  const renderStep4 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: '24px'\n      },\n      children: \"Conducente Aggiuntivo (Opzionale)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        background: '#fff3cd',\n        border: '1px solid #ffc107',\n        borderRadius: '4px',\n        marginBottom: '24px',\n        fontSize: '14px'\n      },\n      children: [\"\\u2139\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Info:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 12\n      }, this), \" Se non prevedi un conducente aggiuntivo, puoi saltare questo step.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Nome e Cognome\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"additional_driver_name\",\n        className: \"form-control\",\n        value: formData.additional_driver_name,\n        onChange: handleChange,\n        placeholder: \"Es: Mario Rossi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Data di Nascita\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"additional_driver_birth_date\",\n          className: \"form-control\",\n          value: formData.additional_driver_birth_date,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Luogo di Nascita\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"additional_driver_birth_place\",\n          className: \"form-control\",\n          value: formData.additional_driver_birth_place,\n          onChange: handleChange,\n          placeholder: \"Es: Roma\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        marginTop: '24px',\n        marginBottom: '16px',\n        fontSize: '16px'\n      },\n      children: \"Dati Patente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Numero Patente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"additional_driver_license\",\n        className: \"form-control\",\n        value: formData.additional_driver_license,\n        onChange: handleChange,\n        placeholder: \"Es: U1234567X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Rilasciata da (Ufficio/Stato)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"additional_driver_license_issued_by\",\n        className: \"form-control\",\n        value: formData.additional_driver_license_issued_by,\n        onChange: handleChange,\n        placeholder: \"Es: MIT-UCO, MCTC-RM\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Data Emissione\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"additional_driver_license_issue_date\",\n          className: \"form-control\",\n          value: formData.additional_driver_license_issue_date,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Data Scadenza\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"additional_driver_license_expiry\",\n          className: \"form-control\",\n          value: formData.additional_driver_license_expiry,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 713,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 624,\n    columnNumber: 5\n  }, this);\n\n  // ✅ STEP 5: TARIFFE E COSTI (NUOVO COMPLETO)\n  const renderStep5 = () => {\n    const subtotalDisplay = formData.subtotal;\n    const totalAmountDisplay = formData.total_amount;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginBottom: '24px'\n        },\n        children: \"Tariffe e Costi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label required\",\n            children: \"Tariffa Giornaliera (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"daily_rate\",\n            className: \"form-control\",\n            value: formData.daily_rate,\n            onChange: handleChange,\n            step: \"0.01\",\n            min: \"0\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Km Inclusi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"km_included\",\n            className: \"form-control\",\n            value: formData.km_included,\n            onChange: handleChange,\n            placeholder: \"Es: Illimitati, 200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginTop: '24px',\n          marginBottom: '16px',\n          fontSize: '16px'\n        },\n        children: \"Costi Aggiuntivi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 764,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Costo Km Extra (\\u20AC/km)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 768,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"km_extra_cost\",\n            className: \"form-control\",\n            value: formData.km_extra_cost,\n            onChange: handleChange,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Costo Consegna/Ritiro (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"delivery_cost\",\n            className: \"form-control\",\n            value: formData.delivery_cost,\n            onChange: handleChange,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 766,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Addebito Carburante (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"fuel_charge\",\n            className: \"form-control\",\n            value: formData.fuel_charge,\n            onChange: handleChange,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Addebito Fuori Orario (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"after_hours_charge\",\n            className: \"form-control\",\n            value: formData.after_hours_charge,\n            onChange: handleChange,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Servizi ed Extra (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"extras_charge\",\n            className: \"form-control\",\n            value: formData.extras_charge,\n            onChange: handleChange,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Addebito Km Extra (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"extra_km_charge\",\n            className: \"form-control\",\n            value: formData.extra_km_charge,\n            onChange: handleChange,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 822,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Franchigia Addebitata (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 852,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"franchise_charge\",\n            className: \"form-control\",\n            value: formData.franchise_charge,\n            onChange: handleChange,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 853,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Sconto Applicato (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 865,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"discount\",\n            className: \"form-control\",\n            value: formData.discount,\n            onChange: handleChange,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '24px',\n          padding: '20px',\n          background: '#f8f9fa',\n          borderRadius: '4px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            marginBottom: '16px',\n            fontSize: '16px'\n          },\n          children: \"Riepilogo Importi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 885,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Tariffa giornaliera \\xD7 \", formData.total_days, \" giorn\", formData.total_days === 1 ? 'o' : 'i', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\u20AC\", subtotalDisplay.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 889,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 11\n        }, this), parseFloat(formData.delivery_cost) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"+ Costo consegna/ritiro:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\u20AC\", parseFloat(formData.delivery_cost).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 895,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 13\n        }, this), parseFloat(formData.fuel_charge) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"+ Addebito carburante:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\u20AC\", parseFloat(formData.fuel_charge).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 13\n        }, this), parseFloat(formData.after_hours_charge) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"+ Fuori orario:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 908,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\u20AC\", parseFloat(formData.after_hours_charge).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 13\n        }, this), parseFloat(formData.extras_charge) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"+ Servizi ed extra:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\u20AC\", parseFloat(formData.extras_charge).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 916,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 914,\n          columnNumber: 13\n        }, this), parseFloat(formData.extra_km_charge) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"+ Km extra:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\u20AC\", parseFloat(formData.extra_km_charge).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 923,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 921,\n          columnNumber: 13\n        }, this), parseFloat(formData.franchise_charge) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"+ Franchigia:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 929,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\u20AC\", parseFloat(formData.franchise_charge).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 930,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 928,\n          columnNumber: 13\n        }, this), parseFloat(formData.discount) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '8px',\n            color: '#28a745'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"- Sconto:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"-\\u20AC\", parseFloat(formData.discount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 937,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderTop: '2px solid #dee2e6',\n            marginTop: '12px',\n            paddingTop: '12px',\n            display: 'flex',\n            justifyContent: 'space-between',\n            fontSize: '18px',\n            fontWeight: '700',\n            color: '#1a4d2e'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"TOTALE NOLEGGIO:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u20AC\", totalAmountDisplay.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 941,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 879,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 733,\n      columnNumber: 7\n    }, this);\n  };\n\n  // ✅ STEP 6: PAGAMENTO (NUOVO)\n  const renderStep6 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: '24px'\n      },\n      children: \"Pagamento e Deposito\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 962,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        background: '#e8f5e9',\n        borderRadius: '4px',\n        marginBottom: '24px',\n        fontSize: '14px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Totale da Pagare:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 971,\n        columnNumber: 9\n      }, this), \" \\u20AC\", formData.total_amount.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 964,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label required\",\n          children: \"Metodo di Pagamento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"payment_method\",\n          className: \"form-control\",\n          value: formData.payment_method,\n          onChange: handleChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Contanti\",\n            children: \"Contanti\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 984,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Carta di Credito\",\n            children: \"Carta di Credito\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Carta di Debito\",\n            children: \"Carta di Debito\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Bonifico\",\n            children: \"Bonifico Bancario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 987,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Assegno\",\n            children: \"Assegno\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 988,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 977,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 975,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Importo Versato (\\u20AC)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 993,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"amount_paid\",\n          className: \"form-control\",\n          value: formData.amount_paid,\n          onChange: handleChange,\n          step: \"0.01\",\n          min: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 994,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 992,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 974,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '12px',\n        background: formData.amount_due > 0 ? '#fff3cd' : '#d4edda',\n        borderRadius: '4px',\n        marginBottom: '24px',\n        fontSize: '14px',\n        fontWeight: '600'\n      },\n      children: formData.amount_due > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"\\u26A0\\uFE0F Importo Dovuto: \\u20AC\", formData.amount_due.toFixed(2)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"\\u2705 Pagamento Completo\"\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1006,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        marginTop: '24px',\n        marginBottom: '16px',\n        fontSize: '16px'\n      },\n      children: \"Deposito Cauzionale\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1021,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Importo Deposito (\\u20AC)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1025,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"deposit_amount\",\n          className: \"form-control\",\n          value: formData.deposit_amount,\n          onChange: handleChange,\n          step: \"0.01\",\n          min: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1024,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Metodo Deposito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1038,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"deposit_method\",\n          className: \"form-control\",\n          value: formData.deposit_method,\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Contanti\",\n            children: \"Contanti\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Carta di Credito\",\n            children: \"Carta di Credito\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1046,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Assegno Circolare\",\n            children: \"Assegno Circolare\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1047,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1039,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1037,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1023,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 961,\n    columnNumber: 5\n  }, this);\n\n  // ✅ STEP 7: CARTA DI CREDITO (NUOVO)\n  const renderStep7 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: '24px'\n      },\n      children: \"Estremi Carta di Credito a Garanzia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1057,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        background: '#fff3cd',\n        border: '1px solid #ffc107',\n        borderRadius: '4px',\n        marginBottom: '24px',\n        fontSize: '14px'\n      },\n      children: [\"\\u2139\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Info:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1067,\n        columnNumber: 12\n      }, this), \" Se il pagamento \\xE8 in contanti, \\xE8 possibile richiedere gli estremi di una carta di credito come garanzia.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1059,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Titolare Carta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1071,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"cc_holder_name\",\n        className: \"form-control\",\n        value: formData.cc_holder_name,\n        onChange: handleChange,\n        placeholder: \"Es: Mario Rossi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1072,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1070,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Tipo Carta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1084,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"cc_type\",\n          className: \"form-control\",\n          value: formData.cc_type,\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Seleziona --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1091,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Visa\",\n            children: \"Visa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Mastercard\",\n            children: \"Mastercard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1093,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"American Express\",\n            children: \"American Express\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Altra\",\n            children: \"Altra\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1095,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1085,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1083,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Numero Carta (ultime 4 cifre)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"cc_number_masked\",\n          className: \"form-control\",\n          value: formData.cc_number_masked,\n          onChange: handleChange,\n          placeholder: \"Es: **** **** **** 1234\",\n          maxLength: \"19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1099,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1082,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Scadenza (MM/YY)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"cc_expiry\",\n        className: \"form-control\",\n        value: formData.cc_expiry,\n        onChange: handleChange,\n        placeholder: \"Es: 12/28\",\n        maxLength: \"5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '12px',\n        background: '#e7f3ff',\n        borderRadius: '4px',\n        marginTop: '16px',\n        fontSize: '13px'\n      },\n      children: \"\\uD83D\\uDD12 I dati della carta di credito sono trattati in conformit\\xE0 al GDPR e vengono utilizzati esclusivamente per finalit\\xE0 contrattuali.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1056,\n    columnNumber: 5\n  }, this);\n\n  // ✅ STEP 8: FRANCHIGIE ASSICURATIVE (NUOVO)\n  const renderStep8 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: '24px'\n      },\n      children: \"Franchigie Assicurative\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        background: '#fff3cd',\n        border: '1px solid #ffc107',\n        borderRadius: '4px',\n        marginBottom: '24px',\n        fontSize: '14px'\n      },\n      children: [\"\\u2139\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Info:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1151,\n        columnNumber: 12\n      }, this), \" Le franchigie rappresentano l'importo a carico del cliente in caso di sinistro, furto o danni.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Franchigia Furto/Incendio (\\u20AC)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"franchise_theft\",\n        className: \"form-control\",\n        value: formData.franchise_theft,\n        onChange: handleChange,\n        step: \"0.01\",\n        min: \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Franchigia Danni (\\u20AC)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"franchise_damage\",\n        className: \"form-control\",\n        value: formData.franchise_damage,\n        onChange: handleChange,\n        step: \"0.01\",\n        min: \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label\",\n        children: \"Franchigia RCA (\\u20AC)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"franchise_rca\",\n        className: \"form-control\",\n        value: formData.franchise_rca,\n        onChange: handleChange,\n        step: \"0.01\",\n        min: \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '24px',\n        padding: '16px',\n        background: '#f8f9fa',\n        borderRadius: '4px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginBottom: '12px',\n          fontSize: '14px'\n        },\n        children: \"Riepilogo Franchigie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '13px',\n          lineHeight: '1.8'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u2022 Furto/Incendio: \\u20AC\", parseFloat(formData.franchise_theft).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u2022 Danni: \\u20AC\", parseFloat(formData.franchise_damage).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u2022 RCA: \\u20AC\", parseFloat(formData.franchise_rca).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1193,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1140,\n    columnNumber: 5\n  }, this);\n\n  // ✅ STEP 9: CONSENSI E FIRMA (NUOVO)\n  const renderStep9 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: '24px'\n      },\n      children: \"Consensi e Firma Digitale\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        background: '#e7f3ff',\n        borderRadius: '4px',\n        marginBottom: '24px',\n        fontSize: '14px'\n      },\n      children: \"\\uD83D\\uDCCB Prima di procedere, il cliente deve leggere e accettare le condizioni di noleggio.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      style: {\n        marginBottom: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: 'flex',\n          alignItems: 'flex-start',\n          cursor: 'pointer'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"contract_signed\",\n          checked: formData.contract_signed,\n          onChange: handleChange,\n          required: true,\n          style: {\n            marginRight: '12px',\n            marginTop: '4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              color: '#dc3545'\n            },\n            children: \"* \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1235,\n            columnNumber: 13\n          }, this), \"Dichiaro di aver letto, compreso ed accettato le\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \" Condizioni Generali di Contratto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1237,\n            columnNumber: 13\n          }, this), ' ', \"presentate dalla societ\\xE0 di noleggio.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      style: {\n        marginBottom: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: 'flex',\n          alignItems: 'flex-start',\n          cursor: 'pointer'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"privacy_consent\",\n          checked: formData.privacy_consent,\n          onChange: handleChange,\n          required: true,\n          style: {\n            marginRight: '12px',\n            marginTop: '4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              color: '#dc3545'\n            },\n            children: \"* \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1254,\n            columnNumber: 13\n          }, this), \"Acconsento al trattamento dei dati personali ai sensi del \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"GDPR 2016/679\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1255,\n            columnNumber: 71\n          }, this), \" per le finalit\\xE0 contrattuali indicate nell'informativa sulla privacy.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1244,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      style: {\n        marginBottom: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: 'flex',\n          alignItems: 'flex-start',\n          cursor: 'pointer'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"marketing_consent\",\n          checked: formData.marketing_consent,\n          onChange: handleChange,\n          style: {\n            marginRight: '12px',\n            marginTop: '4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Acconsento (facoltativo) al trattamento dei dati personali per attivit\\xE0 di \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"invio di materiale pubblicitario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1270,\n            columnNumber: 88\n          }, this), \" e utilizzo nell'ambito di analisi e studi commerciali.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '32px',\n        padding: '20px',\n        background: '#f8f9fa',\n        borderRadius: '4px',\n        borderLeft: '4px solid #1a4d2e'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginBottom: '12px',\n          fontSize: '14px',\n          color: '#1a4d2e'\n        },\n        children: \"\\u2713 Firma Digitale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '13px',\n          marginBottom: '8px'\n        },\n        children: \"Cliccando su \\\"Crea Noleggio\\\", il contratto verr\\xE0 considerato firmato digitalmente dal cliente.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '13px',\n          margin: 0,\n          color: '#6c757d'\n        },\n        children: [\"Data e ora firma: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: new Date().toLocaleString('it-IT')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1287,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1286,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1275,\n      columnNumber: 7\n    }, this), (!formData.contract_signed || !formData.privacy_consent) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '16px',\n        padding: '12px',\n        background: '#fff3cd',\n        border: '1px solid #ffc107',\n        borderRadius: '4px',\n        fontSize: '13px'\n      },\n      children: \"\\u26A0\\uFE0F \\xC8 necessario accettare il contratto e l'informativa sulla privacy per procedere.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1292,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1211,\n    columnNumber: 5\n  }, this);\n\n  // ✅ STEP 10: FOTO (invariato)\n  const renderStep10 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: '24px'\n      },\n      children: \"Foto Veicolo in Uscita\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        background: '#fff3cd',\n        border: '1px solid #ffc107',\n        borderRadius: '4px',\n        marginBottom: '24px',\n        fontSize: '14px'\n      },\n      children: [\"\\u26A0\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Importante:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1319,\n        columnNumber: 12\n      }, this), \" Scatta foto di tutti i lati del veicolo per documentare lo stato al momento della consegna.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PhotoUpload, {\n      rentalId: formData.rental_id,\n      photoType: \"pickup\",\n      onPhotosChange: setUploadedPhotos\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1323,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1308,\n    columnNumber: 5\n  }, this);\n\n  // ✅ RENDER PRINCIPALE\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/rentals'),\n          className: \"btn btn-outline-secondary\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1340,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Nuovo Noleggio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1335,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1334,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-area\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          maxWidth: '900px',\n          margin: '0 auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          style: {\n            padding: '32px'\n          },\n          children: [renderStepIndicator(), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              minHeight: '400px'\n            },\n            children: [currentStep === 1 && renderStep1(), currentStep === 2 && renderStep2(), currentStep === 3 && renderStep3(), currentStep === 4 && renderStep4(), currentStep === 5 && renderStep5(), currentStep === 6 && renderStep6(), currentStep === 7 && renderStep7(), currentStep === 8 && renderStep8(), currentStep === 9 && renderStep9(), currentStep === 10 && renderStep10()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              marginTop: '32px',\n              paddingTop: '24px',\n              borderTop: '1px solid #dee2e6'\n            },\n            children: [currentStep > 1 && currentStep < 10 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePrevious,\n              className: \"btn btn-secondary\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1376,\n                columnNumber: 19\n              }, this), \"Indietro\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1372,\n              columnNumber: 17\n            }, this), currentStep < 9 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleNext,\n              className: \"btn btn-primary\",\n              style: {\n                marginLeft: 'auto'\n              },\n              children: [\"Avanti\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1388,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1382,\n              columnNumber: 17\n            }, this), currentStep === 9 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleNext,\n              className: \"btn btn-primary\",\n              disabled: loading || !formData.contract_signed || !formData.privacy_consent,\n              style: {\n                marginLeft: 'auto'\n              },\n              children: loading ? 'Creazione...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Save, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1401,\n                  columnNumber: 23\n                }, this), \"Crea Noleggio\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1393,\n              columnNumber: 17\n            }, this), currentStep === 10 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleFinish,\n              className: \"btn btn-success\",\n              style: {\n                marginLeft: 'auto'\n              },\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1414,\n                columnNumber: 19\n              }, this), \"Completa\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1409,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1364,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1348,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1347,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1346,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1333,\n    columnNumber: 5\n  }, this);\n};\n_s(NewRental, \"gXtdPZIfHAn+nnPg1qWelzSAUr4=\", false, function () {\n  return [useNavigate];\n});\n_c = NewRental;\nexport default NewRental;\nvar _c;\n$RefreshReg$(_c, \"NewRental\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","rentalsAPI","customersAPI","vehiclesAPI","toast","PhotoUpload","ArrowLeft","ArrowRight","Save","User","Car","Calendar","DollarSign","CreditCard","Shield","Camera","CheckCircle","UserPlus","jsxDEV","_jsxDEV","Fragment","_Fragment","NewRental","_s","navigate","currentStep","setCurrentStep","loading","setLoading","customers","setCustomers","vehicles","setVehicles","categories","setCategories","formData","setFormData","customer_id","vehicle_id","pickup_date","expected_return_date","pickup_location","pickup_fuel_level","pickup_km","pickup_damages","pickup_notes","additional_driver_name","additional_driver_birth_date","additional_driver_birth_place","additional_driver_license","additional_driver_license_issued_by","additional_driver_license_issue_date","additional_driver_license_expiry","daily_rate","total_days","km_included","km_extra_cost","delivery_cost","fuel_charge","after_hours_charge","extras_charge","extra_km_charge","franchise_charge","discount","subtotal","total_amount","amount_paid","amount_due","payment_method","deposit_amount","deposit_method","cc_holder_name","cc_type","cc_number_masked","cc_expiry","franchise_theft","franchise_damage","franchise_rca","contract_signed","privacy_consent","marketing_consent","rental_id","uploadedPhotos","setUploadedPhotos","loadInitialData","dailyRate","parseFloat","start","Date","end","diffDays","getTime","diffTime","Math","abs","ceil","deliveryCost","fuelCharge","afterHoursCharge","extrasCharge","extraKmCharge","franchiseCharge","totalAmount","amountPaid","amountDue","prev","selectedVehicle","find","v","id","parseInt","current_km","customersRes","vehiclesRes","Promise","all","getAll","limit","data","error","console","handleChange","e","name","value","type","checked","target","validateStep","step","handleNext","handleSubmit","handlePrevious","rentalData","response","create","success","_error$response","_error$response$data","message","handleFinish","steps","number","title","icon","renderStepIndicator","style","display","justifyContent","marginBottom","position","overflowX","padding","children","map","index","Icon","isActive","isCompleted","flex","textAlign","minWidth","top","left","right","height","background","fileName","_jsxFileName","lineNumber","columnNumber","width","borderRadius","color","alignItems","zIndex","size","fontSize","fontWeight","renderStep1","className","onChange","required","customer","full_name","fiscal_code","marginTop","c","phone","email","address","city","license_number","renderStep2","vehicle","brand","model","license_plate","category_name","year","fuel_type","transmission","toFixed","renderStep3","min","max","rows","placeholder","renderStep4","border","renderStep5","subtotalDisplay","totalAmountDisplay","borderTop","paddingTop","renderStep6","renderStep7","maxLength","renderStep8","lineHeight","renderStep9","cursor","marginRight","borderLeft","margin","toLocaleString","renderStep10","rentalId","photoType","onPhotosChange","gap","onClick","maxWidth","minHeight","marginLeft","disabled","_c","$RefreshReg$"],"sources":["D:/Bncrentcar/frontend/src/components/NewRental.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { rentalsAPI, customersAPI, vehiclesAPI } from '../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport PhotoUpload from './PhotoUpload';\r\nimport { \r\n  ArrowLeft, \r\n  ArrowRight, \r\n  Save, \r\n  User, \r\n  Car, \r\n  Calendar,\r\n  DollarSign,\r\n  CreditCard,\r\n  Shield,\r\n  Camera,\r\n  CheckCircle,\r\n  UserPlus\r\n} from 'lucide-react';\r\n\r\nconst NewRental = () => {\r\n  const navigate = useNavigate();\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  const [customers, setCustomers] = useState([]);\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  // ✅ STATO COMPLETO CON TUTTI I CAMPI DELLA TABELLA RENTALS\r\n  const [formData, setFormData] = useState({\r\n    // Step 1: Cliente\r\n    customer_id: '',\r\n    \r\n    // Step 2: Veicolo\r\n    vehicle_id: '',\r\n    \r\n    // Step 3: Date e Dettagli Noleggio\r\n    pickup_date: '',\r\n    expected_return_date: '',\r\n    pickup_location: 'BNC Energy Rent Car',\r\n    pickup_fuel_level: '100',\r\n    pickup_km: '',\r\n    pickup_damages: '',\r\n    pickup_notes: '',\r\n    \r\n    // Step 4: Conducente Aggiuntivo (Opzionale)\r\n    additional_driver_name: '',\r\n    additional_driver_birth_date: '',\r\n    additional_driver_birth_place: '',\r\n    additional_driver_license: '',\r\n    additional_driver_license_issued_by: '',\r\n    additional_driver_license_issue_date: '',\r\n    additional_driver_license_expiry: '',\r\n    \r\n    // Step 5: Tariffe e Costi\r\n    daily_rate: '',\r\n    total_days: 1,\r\n    km_included: 'Illimitati',\r\n    km_extra_cost: '0',\r\n    delivery_cost: '0',\r\n    fuel_charge: '0',\r\n    after_hours_charge: '0',\r\n    extras_charge: '0',\r\n    extra_km_charge: '0',\r\n    franchise_charge: '0',\r\n    discount: '0',\r\n    subtotal: 0,\r\n    total_amount: 0,\r\n    \r\n    // Step 6: Pagamento\r\n    amount_paid: '0',\r\n    amount_due: 0,\r\n    payment_method: 'Contanti',\r\n    deposit_amount: '0',\r\n    deposit_method: 'Contanti',\r\n    \r\n    // Step 7: Carta di Credito (Se necessaria)\r\n    cc_holder_name: '',\r\n    cc_type: '',\r\n    cc_number_masked: '',\r\n    cc_expiry: '',\r\n    \r\n    // Step 8: Franchigie Assicurative\r\n    franchise_theft: '0',\r\n    franchise_damage: '0',\r\n    franchise_rca: '0',\r\n    \r\n    // Step 9: Consensi e Firma\r\n    contract_signed: false,\r\n    privacy_consent: false,\r\n    marketing_consent: false,\r\n    \r\n    // Step 10: Foto\r\n    rental_id: null,\r\n  });\r\n\r\n  const [uploadedPhotos, setUploadedPhotos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadInitialData();\r\n  }, []);\r\n\r\n  // ✅ Calcolo automatico totali\r\n  useEffect(() => {\r\n    const dailyRate = parseFloat(formData.daily_rate) || 0;\r\n    const start = new Date(formData.pickup_date);\r\n    const end = new Date(formData.expected_return_date);\r\n\r\n    let diffDays = 1;\r\n    if (start.getTime() && end.getTime() && end > start) {\r\n      const diffTime = Math.abs(end - start);\r\n      diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    }\r\n\r\n    // Calcolo subtotale (solo tariffa giornaliera)\r\n    const subtotal = dailyRate * diffDays;\r\n    \r\n    // Calcolo costi aggiuntivi\r\n    const deliveryCost = parseFloat(formData.delivery_cost) || 0;\r\n    const fuelCharge = parseFloat(formData.fuel_charge) || 0;\r\n    const afterHoursCharge = parseFloat(formData.after_hours_charge) || 0;\r\n    const extrasCharge = parseFloat(formData.extras_charge) || 0;\r\n    const extraKmCharge = parseFloat(formData.extra_km_charge) || 0;\r\n    const franchiseCharge = parseFloat(formData.franchise_charge) || 0;\r\n    const discount = parseFloat(formData.discount) || 0;\r\n    \r\n    // Totale comprensivo di tutti i costi\r\n    const totalAmount = subtotal + deliveryCost + fuelCharge + afterHoursCharge + \r\n                       extrasCharge + extraKmCharge + franchiseCharge - discount;\r\n    \r\n    // Calcolo importo dovuto\r\n    const amountPaid = parseFloat(formData.amount_paid) || 0;\r\n    const amountDue = totalAmount - amountPaid;\r\n\r\n    setFormData(prev => ({ \r\n      ...prev, \r\n      total_days: diffDays, \r\n      subtotal: subtotal,\r\n      total_amount: totalAmount,\r\n      amount_due: amountDue\r\n    }));\r\n  }, [\r\n    formData.pickup_date, \r\n    formData.expected_return_date, \r\n    formData.daily_rate,\r\n    formData.delivery_cost,\r\n    formData.fuel_charge,\r\n    formData.after_hours_charge,\r\n    formData.extras_charge,\r\n    formData.extra_km_charge,\r\n    formData.franchise_charge,\r\n    formData.discount,\r\n    formData.amount_paid\r\n  ]);\r\n\r\n  // ✅ Caricamento dati iniziali\r\n  useEffect(() => {\r\n    if (formData.vehicle_id) {\r\n      const selectedVehicle = vehicles.find(v => v.id === parseInt(formData.vehicle_id));\r\n      if (selectedVehicle) {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          daily_rate: selectedVehicle.daily_rate,\r\n          pickup_km: selectedVehicle.current_km,\r\n          franchise_theft: selectedVehicle.franchise_theft || '0',\r\n          franchise_damage: selectedVehicle.franchise_damage || '0',\r\n          franchise_rca: selectedVehicle.franchise_rca || '0',\r\n        }));\r\n      }\r\n    }\r\n  }, [formData.vehicle_id, vehicles]);\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      const [customersRes, vehiclesRes] = await Promise.all([\r\n        customersAPI.getAll({ limit: 1000 }),\r\n        vehiclesAPI.getAll({ limit: 1000 }),\r\n      ]);\r\n\r\n      setCustomers(customersRes.data.data.customers || []); \r\n      setVehicles(vehiclesRes.data.data || []); \r\n      \r\n    } catch (error) {\r\n      console.error('Errore caricamento dati:', error);\r\n      toast.error('Errore nel caricamento dei dati');\r\n      setCustomers([]);\r\n      setVehicles([]);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({ \r\n      ...prev, \r\n      [name]: type === 'checkbox' ? checked : value \r\n    }));\r\n  };\r\n\r\n  const validateStep = (step) => {\r\n    switch (step) {\r\n      case 1:\r\n        if (!formData.customer_id) {\r\n          toast.error('Seleziona un cliente');\r\n          return false;\r\n        }\r\n        break;\r\n      case 2:\r\n        if (!formData.vehicle_id) {\r\n          toast.error('Seleziona un veicolo');\r\n          return false;\r\n        }\r\n        break;\r\n      case 3:\r\n        if (!formData.pickup_date || !formData.expected_return_date || !formData.pickup_km) {\r\n          toast.error('Compila tutti i campi obbligatori');\r\n          return false;\r\n        }\r\n        if (formData.total_days <= 0) {\r\n          toast.error('Le date di noleggio non sono valide');\r\n          return false;\r\n        }\r\n        break;\r\n      case 5:\r\n        if (parseFloat(formData.daily_rate) <= 0) {\r\n          toast.error('La tariffa giornaliera deve essere maggiore di zero');\r\n          return false;\r\n        }\r\n        break;\r\n      case 9:\r\n        if (!formData.contract_signed || !formData.privacy_consent) {\r\n          toast.error('Devi accettare il contratto e l\\'informativa sulla privacy');\r\n          return false;\r\n        }\r\n        break;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (validateStep(currentStep)) {\r\n      if (currentStep === 9) {\r\n        handleSubmit();\r\n      } else {\r\n        setCurrentStep(currentStep + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    setCurrentStep(currentStep - 1);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // ✅ Preparazione dati completi per l'API\r\n      const rentalData = {\r\n        customer_id: parseInt(formData.customer_id),\r\n        vehicle_id: parseInt(formData.vehicle_id),\r\n        pickup_date: formData.pickup_date,\r\n        expected_return_date: formData.expected_return_date,\r\n        pickup_location: formData.pickup_location,\r\n        pickup_fuel_level: parseFloat(formData.pickup_fuel_level),\r\n        pickup_km: parseInt(formData.pickup_km),\r\n        pickup_damages: formData.pickup_damages,\r\n        pickup_notes: formData.pickup_notes,\r\n        \r\n        // Conducente aggiuntivo\r\n        additional_driver_name: formData.additional_driver_name || null,\r\n        additional_driver_birth_date: formData.additional_driver_birth_date || null,\r\n        additional_driver_birth_place: formData.additional_driver_birth_place || null,\r\n        additional_driver_license: formData.additional_driver_license || null,\r\n        additional_driver_license_issued_by: formData.additional_driver_license_issued_by || null,\r\n        additional_driver_license_issue_date: formData.additional_driver_license_issue_date || null,\r\n        additional_driver_license_expiry: formData.additional_driver_license_expiry || null,\r\n        \r\n        // Tariffe\r\n        daily_rate: parseFloat(formData.daily_rate),\r\n        total_days: parseInt(formData.total_days),\r\n        km_included: formData.km_included,\r\n        km_extra_cost: parseFloat(formData.km_extra_cost),\r\n        delivery_cost: parseFloat(formData.delivery_cost),\r\n        fuel_charge: parseFloat(formData.fuel_charge),\r\n        after_hours_charge: parseFloat(formData.after_hours_charge),\r\n        extras_charge: parseFloat(formData.extras_charge),\r\n        extra_km_charge: parseFloat(formData.extra_km_charge),\r\n        franchise_charge: parseFloat(formData.franchise_charge),\r\n        discount: parseFloat(formData.discount),\r\n        subtotal: parseFloat(formData.subtotal),\r\n        total_amount: parseFloat(formData.total_amount),\r\n        \r\n        // Pagamento\r\n        amount_paid: parseFloat(formData.amount_paid),\r\n        amount_due: parseFloat(formData.amount_due),\r\n        payment_method: formData.payment_method,\r\n        deposit_amount: parseFloat(formData.deposit_amount),\r\n        deposit_method: formData.deposit_method,\r\n        \r\n        // Carta di credito\r\n        cc_holder_name: formData.cc_holder_name || null,\r\n        cc_type: formData.cc_type || null,\r\n        cc_number_masked: formData.cc_number_masked || null,\r\n        cc_expiry: formData.cc_expiry || null,\r\n        \r\n        // Franchigie\r\n        franchise_theft: parseFloat(formData.franchise_theft),\r\n        franchise_damage: parseFloat(formData.franchise_damage),\r\n        franchise_rca: parseFloat(formData.franchise_rca),\r\n        \r\n        // Consensi\r\n        contract_signed: formData.contract_signed,\r\n        privacy_consent: formData.privacy_consent,\r\n        marketing_consent: formData.marketing_consent,\r\n      };\r\n\r\n      const response = await rentalsAPI.create(rentalData);\r\n      \r\n      setFormData(prev => ({ ...prev, rental_id: response.data.data.id }));\r\n      setCurrentStep(10); // Vai allo step foto\r\n      \r\n      toast.success('Noleggio creato con successo!');\r\n    } catch (error) {\r\n      console.error('Errore creazione noleggio:', error);\r\n      toast.error(error.response?.data?.message || 'Errore nella creazione del noleggio');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFinish = () => {\r\n    toast.success('Noleggio completato con successo!');\r\n    navigate(`/rentals/${formData.rental_id}`);\r\n  };\r\n\r\n  // ✅ DEFINIZIONE STEP\r\n  const steps = [\r\n    { number: 1, title: 'Cliente', icon: User },\r\n    { number: 2, title: 'Veicolo', icon: Car },\r\n    { number: 3, title: 'Dettagli', icon: Calendar },\r\n    { number: 4, title: 'Conducente Agg.', icon: UserPlus },\r\n    { number: 5, title: 'Tariffe', icon: DollarSign },\r\n    { number: 6, title: 'Pagamento', icon: CreditCard },\r\n    { number: 7, title: 'Carta Credito', icon: CreditCard },\r\n    { number: 8, title: 'Franchigie', icon: Shield },\r\n    { number: 9, title: 'Consensi', icon: CheckCircle },\r\n    { number: 10, title: 'Foto', icon: Camera },\r\n  ];\r\n\r\n  // ✅ RENDER STEP INDICATOR (invariato)\r\n  const renderStepIndicator = () => (\r\n    <div style={{\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      marginBottom: '32px',\r\n      position: 'relative',\r\n      overflowX: 'auto',\r\n      padding: '10px 0'\r\n    }}>\r\n      {steps.map((step, index) => {\r\n        const Icon = step.icon;\r\n        const isActive = currentStep === step.number;\r\n        const isCompleted = currentStep > step.number;\r\n        \r\n        return (\r\n          <div key={step.number} style={{ flex: 1, textAlign: 'center', position: 'relative', minWidth: '80px' }}>\r\n            {index > 0 && (\r\n              <div style={{\r\n                position: 'absolute',\r\n                top: '20px',\r\n                left: '-50%',\r\n                right: '50%',\r\n                height: '2px',\r\n                background: isCompleted ? '#1a4d2e' : '#dee2e6',\r\n              }} />\r\n            )}\r\n            <div style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              borderRadius: '50%',\r\n              background: isActive ? '#1a4d2e' : isCompleted ? '#4a7c59' : '#dee2e6',\r\n              color: isActive || isCompleted ? 'white' : '#6c757d',\r\n              display: 'inline-flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              marginBottom: '8px',\r\n              position: 'relative',\r\n              zIndex: 1,\r\n            }}>\r\n              <Icon size={20} />\r\n            </div>\r\n            <div style={{\r\n              fontSize: '11px',\r\n              fontWeight: isActive ? '600' : '400',\r\n              color: isActive ? '#1a4d2e' : '#6c757d',\r\n            }}>\r\n              {step.title}\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n\r\n  // ✅ STEP 1: CLIENTE (invariato)\r\n  const renderStep1 = () => (\r\n    <div>\r\n      <h3 style={{ marginBottom: '24px' }}>Seleziona Cliente</h3>\r\n      \r\n      <div className=\"form-group\">\r\n        <label className=\"form-label required\">Cliente</label>\r\n        <select\r\n          name=\"customer_id\"\r\n          className=\"form-control\"\r\n          value={formData.customer_id}\r\n          onChange={handleChange}\r\n          required\r\n        >\r\n          <option value=\"\">-- Seleziona Cliente --</option>\r\n          {customers && customers.map(customer => ( \r\n            <option key={customer.id} value={customer.id}>\r\n              {customer.full_name} - {customer.fiscal_code}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {formData.customer_id && (\r\n        <div style={{\r\n          marginTop: '20px',\r\n          padding: '16px',\r\n          background: '#f8f9fa',\r\n          borderRadius: '4px',\r\n        }}>\r\n          {(() => {\r\n            const customer = customers.find(c => c.id === parseInt(formData.customer_id));\r\n            return customer ? (\r\n              <div>\r\n                <strong>Dettagli Cliente:</strong>\r\n                <div style={{ marginTop: '8px', fontSize: '14px' }}>\r\n                  <div>📞 {customer.phone}</div>\r\n                  <div>📧 {customer.email}</div>\r\n                  <div>📍 {customer.address}, {customer.city}</div>\r\n                  <div>🪪 Patente: {customer.license_number}</div>\r\n                </div>\r\n              </div>\r\n            ) : null;\r\n          })()}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  // ✅ STEP 2: VEICOLO (invariato)\r\n  const renderStep2 = () => (\r\n    <div>\r\n      <h3 style={{ marginBottom: '24px' }}>Seleziona Veicolo</h3>\r\n      \r\n      <div className=\"form-group\">\r\n        <label className=\"form-label required\">Veicolo Disponibile</label>\r\n        <select\r\n          name=\"vehicle_id\"\r\n          className=\"form-control\"\r\n          value={formData.vehicle_id}\r\n          onChange={handleChange}\r\n          required\r\n        >\r\n          <option value=\"\">-- Seleziona Veicolo --</option>\r\n          {vehicles && vehicles.map(vehicle => (\r\n            <option key={vehicle.id} value={vehicle.id}>\r\n              {vehicle.brand} {vehicle.model} - {vehicle.license_plate} \r\n              {vehicle.category_name && ` (${vehicle.category_name})`}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {formData.vehicle_id && (\r\n        <div style={{\r\n          marginTop: '20px',\r\n          padding: '16px',\r\n          background: '#f8f9fa',\r\n          borderRadius: '4px',\r\n        }}>\r\n          {(() => {\r\n            const vehicle = vehicles.find(v => v.id === parseInt(formData.vehicle_id));\r\n            return vehicle ? (\r\n              <div>\r\n                <strong>Dettagli Veicolo:</strong>\r\n                <div style={{ marginTop: '8px', fontSize: '14px' }}>\r\n                  <div>🚗 {vehicle.brand} {vehicle.model} ({vehicle.year})</div>\r\n                  <div>🏷️ Targa: {vehicle.license_plate}</div>\r\n                  <div>🎨 Colore: {vehicle.color}</div>\r\n                  <div>⛽ Carburante: {vehicle.fuel_type}</div>\r\n                  <div>⚙️ Cambio: {vehicle.transmission}</div>\r\n                  <div>📊 Km attuali: {vehicle.current_km}</div>\r\n                  {vehicle.daily_rate && (\r\n                    <div style={{ marginTop: '8px', fontWeight: '600', color: '#1a4d2e' }}>\r\n                      💰 Tariffa giornaliera: €{parseFloat(vehicle.daily_rate).toFixed(2)}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : null;\r\n          })()}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  // ✅ STEP 3: DETTAGLI NOLEGGIO (invariato)\r\n  const renderStep3 = () => (\r\n    <div>\r\n      <h3 style={{ marginBottom: '24px' }}>Dettagli Ritiro e Consegna</h3>\r\n      \r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label required\">Data e Ora Ritiro</label>\r\n          <input\r\n            type=\"datetime-local\"\r\n            name=\"pickup_date\"\r\n            className=\"form-control\"\r\n            value={formData.pickup_date}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label required\">Data e Ora Rientro Previsto</label>\r\n          <input\r\n            type=\"datetime-local\"\r\n            name=\"expected_return_date\"\r\n            className=\"form-control\"\r\n            value={formData.expected_return_date}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Luogo di Ritiro</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"pickup_location\"\r\n          className=\"form-control\"\r\n          value={formData.pickup_location}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label required\">Livello Carburante (%)</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"pickup_fuel_level\"\r\n            className=\"form-control\"\r\n            value={formData.pickup_fuel_level}\r\n            onChange={handleChange}\r\n            min=\"0\"\r\n            max=\"100\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label required\">Km in Uscita</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"pickup_km\"\r\n            className=\"form-control\"\r\n            value={formData.pickup_km}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Danni Esistenti</label>\r\n        <textarea\r\n          name=\"pickup_damages\"\r\n          className=\"form-control\"\r\n          value={formData.pickup_damages}\r\n          onChange={handleChange}\r\n          rows=\"3\"\r\n          placeholder=\"Descrivi eventuali danni o graffi presenti sul veicolo...\"\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Note Aggiuntive Noleggio</label>\r\n        <textarea\r\n          name=\"pickup_notes\"\r\n          className=\"form-control\"\r\n          value={formData.pickup_notes}\r\n          onChange={handleChange}\r\n          rows=\"3\"\r\n          placeholder=\"Note generiche per il noleggio...\"\r\n        />\r\n      </div>\r\n\r\n      {formData.total_days > 0 && (\r\n        <div style={{\r\n          marginTop: '20px',\r\n          padding: '16px',\r\n          background: '#e8f5e9',\r\n          borderRadius: '4px',\r\n          fontSize: '14px',\r\n          fontWeight: '600',\r\n          color: '#1a4d2e',\r\n        }}>\r\n          📅 Durata noleggio: {formData.total_days} giorn{formData.total_days === 1 ? 'o' : 'i'}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  // ✅ STEP 4: CONDUCENTE AGGIUNTIVO (NUOVO)\r\n  const renderStep4 = () => (\r\n    <div>\r\n      <h3 style={{ marginBottom: '24px' }}>Conducente Aggiuntivo (Opzionale)</h3>\r\n      \r\n      <div style={{\r\n        padding: '16px',\r\n        background: '#fff3cd',\r\n        border: '1px solid #ffc107',\r\n        borderRadius: '4px',\r\n        marginBottom: '24px',\r\n        fontSize: '14px',\r\n      }}>\r\n        ℹ️ <strong>Info:</strong> Se non prevedi un conducente aggiuntivo, puoi saltare questo step.\r\n      </div>\r\n      \r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Nome e Cognome</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"additional_driver_name\"\r\n          className=\"form-control\"\r\n          value={formData.additional_driver_name}\r\n          onChange={handleChange}\r\n          placeholder=\"Es: Mario Rossi\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Data di Nascita</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"additional_driver_birth_date\"\r\n            className=\"form-control\"\r\n            value={formData.additional_driver_birth_date}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Luogo di Nascita</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"additional_driver_birth_place\"\r\n            className=\"form-control\"\r\n            value={formData.additional_driver_birth_place}\r\n            onChange={handleChange}\r\n            placeholder=\"Es: Roma\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <h4 style={{ marginTop: '24px', marginBottom: '16px', fontSize: '16px' }}>Dati Patente</h4>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Numero Patente</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"additional_driver_license\"\r\n          className=\"form-control\"\r\n          value={formData.additional_driver_license}\r\n          onChange={handleChange}\r\n          placeholder=\"Es: U1234567X\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Rilasciata da (Ufficio/Stato)</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"additional_driver_license_issued_by\"\r\n          className=\"form-control\"\r\n          value={formData.additional_driver_license_issued_by}\r\n          onChange={handleChange}\r\n          placeholder=\"Es: MIT-UCO, MCTC-RM\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Data Emissione</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"additional_driver_license_issue_date\"\r\n            className=\"form-control\"\r\n            value={formData.additional_driver_license_issue_date}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Data Scadenza</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"additional_driver_license_expiry\"\r\n            className=\"form-control\"\r\n            value={formData.additional_driver_license_expiry}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // ✅ STEP 5: TARIFFE E COSTI (NUOVO COMPLETO)\r\n  const renderStep5 = () => {\r\n    const subtotalDisplay = formData.subtotal;\r\n    const totalAmountDisplay = formData.total_amount;\r\n    \r\n    return (\r\n      <div>\r\n        <h3 style={{ marginBottom: '24px' }}>Tariffe e Costi</h3>\r\n        \r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label required\">Tariffa Giornaliera (€)</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"daily_rate\"\r\n              className=\"form-control\"\r\n              value={formData.daily_rate}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Km Inclusi</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"km_included\"\r\n              className=\"form-control\"\r\n              value={formData.km_included}\r\n              onChange={handleChange}\r\n              placeholder=\"Es: Illimitati, 200\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <h4 style={{ marginTop: '24px', marginBottom: '16px', fontSize: '16px' }}>Costi Aggiuntivi</h4>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Costo Km Extra (€/km)</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"km_extra_cost\"\r\n              className=\"form-control\"\r\n              value={formData.km_extra_cost}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Costo Consegna/Ritiro (€)</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"delivery_cost\"\r\n              className=\"form-control\"\r\n              value={formData.delivery_cost}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Addebito Carburante (€)</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"fuel_charge\"\r\n              className=\"form-control\"\r\n              value={formData.fuel_charge}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Addebito Fuori Orario (€)</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"after_hours_charge\"\r\n              className=\"form-control\"\r\n              value={formData.after_hours_charge}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Servizi ed Extra (€)</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"extras_charge\"\r\n              className=\"form-control\"\r\n              value={formData.extras_charge}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Addebito Km Extra (€)</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"extra_km_charge\"\r\n              className=\"form-control\"\r\n              value={formData.extra_km_charge}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Franchigia Addebitata (€)</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"franchise_charge\"\r\n              className=\"form-control\"\r\n              value={formData.franchise_charge}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Sconto Applicato (€)</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"discount\"\r\n              className=\"form-control\"\r\n              value={formData.discount}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Riepilogo */}\r\n        <div style={{\r\n          marginTop: '24px',\r\n          padding: '20px',\r\n          background: '#f8f9fa',\r\n          borderRadius: '4px',\r\n        }}>\r\n          <h4 style={{ marginBottom: '16px', fontSize: '16px' }}>Riepilogo Importi</h4>\r\n          \r\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\r\n            <span>Tariffa giornaliera × {formData.total_days} giorn{formData.total_days === 1 ? 'o' : 'i'}:</span>\r\n            <strong>€{subtotalDisplay.toFixed(2)}</strong>\r\n          </div>\r\n          \r\n          {parseFloat(formData.delivery_cost) > 0 && (\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\r\n              <span>+ Costo consegna/ritiro:</span>\r\n              <strong>€{parseFloat(formData.delivery_cost).toFixed(2)}</strong>\r\n            </div>\r\n          )}\r\n          \r\n          {parseFloat(formData.fuel_charge) > 0 && (\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\r\n              <span>+ Addebito carburante:</span>\r\n              <strong>€{parseFloat(formData.fuel_charge).toFixed(2)}</strong>\r\n            </div>\r\n          )}\r\n          \r\n          {parseFloat(formData.after_hours_charge) > 0 && (\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\r\n              <span>+ Fuori orario:</span>\r\n              <strong>€{parseFloat(formData.after_hours_charge).toFixed(2)}</strong>\r\n            </div>\r\n          )}\r\n          \r\n          {parseFloat(formData.extras_charge) > 0 && (\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\r\n              <span>+ Servizi ed extra:</span>\r\n              <strong>€{parseFloat(formData.extras_charge).toFixed(2)}</strong>\r\n            </div>\r\n          )}\r\n          \r\n          {parseFloat(formData.extra_km_charge) > 0 && (\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\r\n              <span>+ Km extra:</span>\r\n              <strong>€{parseFloat(formData.extra_km_charge).toFixed(2)}</strong>\r\n            </div>\r\n          )}\r\n          \r\n          {parseFloat(formData.franchise_charge) > 0 && (\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\r\n              <span>+ Franchigia:</span>\r\n              <strong>€{parseFloat(formData.franchise_charge).toFixed(2)}</strong>\r\n            </div>\r\n          )}\r\n          \r\n          {parseFloat(formData.discount) > 0 && (\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px', color: '#28a745' }}>\r\n              <span>- Sconto:</span>\r\n              <strong>-€{parseFloat(formData.discount).toFixed(2)}</strong>\r\n            </div>\r\n          )}\r\n          \r\n          <div style={{ \r\n            borderTop: '2px solid #dee2e6', \r\n            marginTop: '12px', \r\n            paddingTop: '12px',\r\n            display: 'flex', \r\n            justifyContent: 'space-between',\r\n            fontSize: '18px',\r\n            fontWeight: '700',\r\n            color: '#1a4d2e',\r\n          }}>\r\n            <span>TOTALE NOLEGGIO:</span>\r\n            <span>€{totalAmountDisplay.toFixed(2)}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // ✅ STEP 6: PAGAMENTO (NUOVO)\r\n  const renderStep6 = () => (\r\n    <div>\r\n      <h3 style={{ marginBottom: '24px' }}>Pagamento e Deposito</h3>\r\n      \r\n      <div style={{\r\n        padding: '16px',\r\n        background: '#e8f5e9',\r\n        borderRadius: '4px',\r\n        marginBottom: '24px',\r\n        fontSize: '14px',\r\n      }}>\r\n        <strong>Totale da Pagare:</strong> €{formData.total_amount.toFixed(2)}\r\n      </div>\r\n\r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label required\">Metodo di Pagamento</label>\r\n          <select\r\n            name=\"payment_method\"\r\n            className=\"form-control\"\r\n            value={formData.payment_method}\r\n            onChange={handleChange}\r\n            required\r\n          >\r\n            <option value=\"Contanti\">Contanti</option>\r\n            <option value=\"Carta di Credito\">Carta di Credito</option>\r\n            <option value=\"Carta di Debito\">Carta di Debito</option>\r\n            <option value=\"Bonifico\">Bonifico Bancario</option>\r\n            <option value=\"Assegno\">Assegno</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Importo Versato (€)</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"amount_paid\"\r\n            className=\"form-control\"\r\n            value={formData.amount_paid}\r\n            onChange={handleChange}\r\n            step=\"0.01\"\r\n            min=\"0\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{\r\n        padding: '12px',\r\n        background: formData.amount_due > 0 ? '#fff3cd' : '#d4edda',\r\n        borderRadius: '4px',\r\n        marginBottom: '24px',\r\n        fontSize: '14px',\r\n        fontWeight: '600',\r\n      }}>\r\n        {formData.amount_due > 0 ? (\r\n          <>⚠️ Importo Dovuto: €{formData.amount_due.toFixed(2)}</>\r\n        ) : (\r\n          <>✅ Pagamento Completo</>\r\n        )}\r\n      </div>\r\n\r\n      <h4 style={{ marginTop: '24px', marginBottom: '16px', fontSize: '16px' }}>Deposito Cauzionale</h4>\r\n\r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Importo Deposito (€)</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"deposit_amount\"\r\n            className=\"form-control\"\r\n            value={formData.deposit_amount}\r\n            onChange={handleChange}\r\n            step=\"0.01\"\r\n            min=\"0\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Metodo Deposito</label>\r\n          <select\r\n            name=\"deposit_method\"\r\n            className=\"form-control\"\r\n            value={formData.deposit_method}\r\n            onChange={handleChange}\r\n          >\r\n            <option value=\"Contanti\">Contanti</option>\r\n            <option value=\"Carta di Credito\">Carta di Credito</option>\r\n            <option value=\"Assegno Circolare\">Assegno Circolare</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // ✅ STEP 7: CARTA DI CREDITO (NUOVO)\r\n  const renderStep7 = () => (\r\n    <div>\r\n      <h3 style={{ marginBottom: '24px' }}>Estremi Carta di Credito a Garanzia</h3>\r\n      \r\n      <div style={{\r\n        padding: '16px',\r\n        background: '#fff3cd',\r\n        border: '1px solid #ffc107',\r\n        borderRadius: '4px',\r\n        marginBottom: '24px',\r\n        fontSize: '14px',\r\n      }}>\r\n        ℹ️ <strong>Info:</strong> Se il pagamento è in contanti, è possibile richiedere gli estremi di una carta di credito come garanzia.\r\n      </div>\r\n      \r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Titolare Carta</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"cc_holder_name\"\r\n          className=\"form-control\"\r\n          value={formData.cc_holder_name}\r\n          onChange={handleChange}\r\n          placeholder=\"Es: Mario Rossi\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Tipo Carta</label>\r\n          <select\r\n            name=\"cc_type\"\r\n            className=\"form-control\"\r\n            value={formData.cc_type}\r\n            onChange={handleChange}\r\n          >\r\n            <option value=\"\">-- Seleziona --</option>\r\n            <option value=\"Visa\">Visa</option>\r\n            <option value=\"Mastercard\">Mastercard</option>\r\n            <option value=\"American Express\">American Express</option>\r\n            <option value=\"Altra\">Altra</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Numero Carta (ultime 4 cifre)</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"cc_number_masked\"\r\n            className=\"form-control\"\r\n            value={formData.cc_number_masked}\r\n            onChange={handleChange}\r\n            placeholder=\"Es: **** **** **** 1234\"\r\n            maxLength=\"19\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Scadenza (MM/YY)</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"cc_expiry\"\r\n          className=\"form-control\"\r\n          value={formData.cc_expiry}\r\n          onChange={handleChange}\r\n          placeholder=\"Es: 12/28\"\r\n          maxLength=\"5\"\r\n        />\r\n      </div>\r\n\r\n      <div style={{\r\n        padding: '12px',\r\n        background: '#e7f3ff',\r\n        borderRadius: '4px',\r\n        marginTop: '16px',\r\n        fontSize: '13px',\r\n      }}>\r\n        🔒 I dati della carta di credito sono trattati in conformità al GDPR e vengono utilizzati esclusivamente per finalità contrattuali.\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // ✅ STEP 8: FRANCHIGIE ASSICURATIVE (NUOVO)\r\n  const renderStep8 = () => (\r\n    <div>\r\n      <h3 style={{ marginBottom: '24px' }}>Franchigie Assicurative</h3>\r\n      \r\n      <div style={{\r\n        padding: '16px',\r\n        background: '#fff3cd',\r\n        border: '1px solid #ffc107',\r\n        borderRadius: '4px',\r\n        marginBottom: '24px',\r\n        fontSize: '14px',\r\n      }}>\r\n        ℹ️ <strong>Info:</strong> Le franchigie rappresentano l'importo a carico del cliente in caso di sinistro, furto o danni.\r\n      </div>\r\n      \r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Franchigia Furto/Incendio (€)</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"franchise_theft\"\r\n          className=\"form-control\"\r\n          value={formData.franchise_theft}\r\n          onChange={handleChange}\r\n          step=\"0.01\"\r\n          min=\"0\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Franchigia Danni (€)</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"franchise_damage\"\r\n          className=\"form-control\"\r\n          value={formData.franchise_damage}\r\n          onChange={handleChange}\r\n          step=\"0.01\"\r\n          min=\"0\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"form-label\">Franchigia RCA (€)</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"franchise_rca\"\r\n          className=\"form-control\"\r\n          value={formData.franchise_rca}\r\n          onChange={handleChange}\r\n          step=\"0.01\"\r\n          min=\"0\"\r\n        />\r\n      </div>\r\n\r\n      <div style={{\r\n        marginTop: '24px',\r\n        padding: '16px',\r\n        background: '#f8f9fa',\r\n        borderRadius: '4px',\r\n      }}>\r\n        <h4 style={{ marginBottom: '12px', fontSize: '14px' }}>Riepilogo Franchigie</h4>\r\n        <div style={{ fontSize: '13px', lineHeight: '1.8' }}>\r\n          <div>• Furto/Incendio: €{parseFloat(formData.franchise_theft).toFixed(2)}</div>\r\n          <div>• Danni: €{parseFloat(formData.franchise_damage).toFixed(2)}</div>\r\n          <div>• RCA: €{parseFloat(formData.franchise_rca).toFixed(2)}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // ✅ STEP 9: CONSENSI E FIRMA (NUOVO)\r\n  const renderStep9 = () => (\r\n    <div>\r\n      <h3 style={{ marginBottom: '24px' }}>Consensi e Firma Digitale</h3>\r\n      \r\n      <div style={{\r\n        padding: '16px',\r\n        background: '#e7f3ff',\r\n        borderRadius: '4px',\r\n        marginBottom: '24px',\r\n        fontSize: '14px',\r\n      }}>\r\n        📋 Prima di procedere, il cliente deve leggere e accettare le condizioni di noleggio.\r\n      </div>\r\n\r\n      <div className=\"form-group\" style={{ marginBottom: '20px' }}>\r\n        <label style={{ display: 'flex', alignItems: 'flex-start', cursor: 'pointer' }}>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"contract_signed\"\r\n            checked={formData.contract_signed}\r\n            onChange={handleChange}\r\n            required\r\n            style={{ marginRight: '12px', marginTop: '4px' }}\r\n          />\r\n          <span>\r\n            <strong style={{ color: '#dc3545' }}>* </strong>\r\n            Dichiaro di aver letto, compreso ed accettato le \r\n            <strong> Condizioni Generali di Contratto</strong> \r\n            {' '}presentate dalla società di noleggio.\r\n          </span>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\" style={{ marginBottom: '20px' }}>\r\n        <label style={{ display: 'flex', alignItems: 'flex-start', cursor: 'pointer' }}>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"privacy_consent\"\r\n            checked={formData.privacy_consent}\r\n            onChange={handleChange}\r\n            required\r\n            style={{ marginRight: '12px', marginTop: '4px' }}\r\n          />\r\n          <span>\r\n            <strong style={{ color: '#dc3545' }}>* </strong>\r\n            Acconsento al trattamento dei dati personali ai sensi del <strong>GDPR 2016/679</strong> per le finalità contrattuali indicate nell'informativa sulla privacy.\r\n          </span>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\" style={{ marginBottom: '20px' }}>\r\n        <label style={{ display: 'flex', alignItems: 'flex-start', cursor: 'pointer' }}>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"marketing_consent\"\r\n            checked={formData.marketing_consent}\r\n            onChange={handleChange}\r\n            style={{ marginRight: '12px', marginTop: '4px' }}\r\n          />\r\n          <span>\r\n            Acconsento (facoltativo) al trattamento dei dati personali per attività di <strong>invio di materiale pubblicitario</strong> e utilizzo nell'ambito di analisi e studi commerciali.\r\n          </span>\r\n        </label>\r\n      </div>\r\n\r\n      <div style={{\r\n        marginTop: '32px',\r\n        padding: '20px',\r\n        background: '#f8f9fa',\r\n        borderRadius: '4px',\r\n        borderLeft: '4px solid #1a4d2e',\r\n      }}>\r\n        <h4 style={{ marginBottom: '12px', fontSize: '14px', color: '#1a4d2e' }}>✓ Firma Digitale</h4>\r\n        <p style={{ fontSize: '13px', marginBottom: '8px' }}>\r\n          Cliccando su \"Crea Noleggio\", il contratto verrà considerato firmato digitalmente dal cliente.\r\n        </p>\r\n        <p style={{ fontSize: '13px', margin: 0, color: '#6c757d' }}>\r\n          Data e ora firma: <strong>{new Date().toLocaleString('it-IT')}</strong>\r\n        </p>\r\n      </div>\r\n\r\n      {(!formData.contract_signed || !formData.privacy_consent) && (\r\n        <div style={{\r\n          marginTop: '16px',\r\n          padding: '12px',\r\n          background: '#fff3cd',\r\n          border: '1px solid #ffc107',\r\n          borderRadius: '4px',\r\n          fontSize: '13px',\r\n        }}>\r\n          ⚠️ È necessario accettare il contratto e l'informativa sulla privacy per procedere.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  // ✅ STEP 10: FOTO (invariato)\r\n  const renderStep10 = () => (\r\n    <div>\r\n      <h3 style={{ marginBottom: '24px' }}>Foto Veicolo in Uscita</h3>\r\n      \r\n      <div style={{\r\n        padding: '16px',\r\n        background: '#fff3cd',\r\n        border: '1px solid #ffc107',\r\n        borderRadius: '4px',\r\n        marginBottom: '24px',\r\n        fontSize: '14px',\r\n      }}>\r\n        ⚠️ <strong>Importante:</strong> Scatta foto di tutti i lati del veicolo \r\n        per documentare lo stato al momento della consegna.\r\n      </div>\r\n\r\n      <PhotoUpload\r\n        rentalId={formData.rental_id}\r\n        photoType=\"pickup\"\r\n        onPhotosChange={setUploadedPhotos}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  // ✅ RENDER PRINCIPALE\r\n  return (\r\n    <div>\r\n      <div className=\"top-bar\">\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\r\n          <button\r\n            onClick={() => navigate('/rentals')}\r\n            className=\"btn btn-outline-secondary\"\r\n          >\r\n            <ArrowLeft size={18} />\r\n          </button>\r\n          <h1>Nuovo Noleggio</h1>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"content-area\">\r\n        <div className=\"card\" style={{ maxWidth: '900px', margin: '0 auto' }}>\r\n          <div className=\"card-body\" style={{ padding: '32px' }}>\r\n            {renderStepIndicator()}\r\n            \r\n            <div style={{ minHeight: '400px' }}>\r\n              {currentStep === 1 && renderStep1()}\r\n              {currentStep === 2 && renderStep2()}\r\n              {currentStep === 3 && renderStep3()}\r\n              {currentStep === 4 && renderStep4()}\r\n              {currentStep === 5 && renderStep5()}\r\n              {currentStep === 6 && renderStep6()}\r\n              {currentStep === 7 && renderStep7()}\r\n              {currentStep === 8 && renderStep8()}\r\n              {currentStep === 9 && renderStep9()}\r\n              {currentStep === 10 && renderStep10()}\r\n            </div>\r\n\r\n            <div style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              marginTop: '32px',\r\n              paddingTop: '24px',\r\n              borderTop: '1px solid #dee2e6',\r\n            }}>\r\n              {currentStep > 1 && currentStep < 10 && (\r\n                <button\r\n                  onClick={handlePrevious}\r\n                  className=\"btn btn-secondary\"\r\n                >\r\n                  <ArrowLeft size={18} />\r\n                  Indietro\r\n                </button>\r\n              )}\r\n              \r\n              {currentStep < 9 && (\r\n                <button\r\n                  onClick={handleNext}\r\n                  className=\"btn btn-primary\"\r\n                  style={{ marginLeft: 'auto' }}\r\n                >\r\n                  Avanti\r\n                  <ArrowRight size={18} />\r\n                </button>\r\n              )}\r\n              \r\n              {currentStep === 9 && (\r\n                <button\r\n                  onClick={handleNext}\r\n                  className=\"btn btn-primary\"\r\n                  disabled={loading || !formData.contract_signed || !formData.privacy_consent}\r\n                  style={{ marginLeft: 'auto' }}\r\n                >\r\n                  {loading ? 'Creazione...' : (\r\n                    <>\r\n                      <Save size={18} />\r\n                      Crea Noleggio\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n              \r\n              {currentStep === 10 && (\r\n                <button\r\n                  onClick={handleFinish}\r\n                  className=\"btn btn-success\"\r\n                  style={{ marginLeft: 'auto' }}\r\n                >\r\n                  <CheckCircle size={18} />\r\n                  Completa\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewRental;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}